{"version":3,"file":"static/js/main.674c0880.js","mappings":"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","sources":["src/lib/supabase.ts","src/store/useSettings.ts","src/screens/HomeScreen.tsx","src/store/useProgress.ts","src/screens/ChapterScreen.tsx","src/components/MathJaxView.tsx","src/screens/LearningScreen.tsx","src/screens/MyDemosScreen.tsx","src/screens/StatsScreen.tsx","src/screens/SettingsScreen.tsx","App.tsx","webpack/bootstrap","webpack/runtime/chunk loaded","webpack/runtime/compat get default export","webpack/runtime/create fake namespace object","webpack/runtime/define property getters","webpack/runtime/ensure chunk","webpack/runtime/get javascript chunk filename","webpack/runtime/get mini-css chunk filename","webpack/runtime/global","webpack/runtime/hasOwnProperty shorthand","webpack/runtime/load script","webpack/runtime/make namespace object","webpack/runtime/node module decorator","webpack/runtime/publicPath","webpack/runtime/jsonp chunk loading","webpack/startup"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\n\n//  Remplacez par vos vraies valeurs :\nconst SUPABASE_URL = 'https://mnanqrszcfunljrqzyyp.supabase.co';\nconst SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1uYW5xcnN6Y2Z1bmxqcnF6eXlwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMxNzcyNjEsImV4cCI6MjA2ODc1MzI2MX0.W051XY1icbyIbl8a2Lly-yW6DNCExoMhtMej7Hee4mY';\n\nconsole.log('Supabase URL:', SUPABASE_URL);\n\nexport const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);","// src/store/useSettings.ts\r\nimport create from 'zustand';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\nexport type ThemeColor = '#808080' | '#8e44ad' | '#34c759' | '#ff3b30';\r\nexport const ALL_CURSUS = ['MathsSup','MathsSpé','SU - MA001','SU - MA002','SU - MA003'] as const;\r\n\r\ninterface SettingsState {\r\n  themeColor: ThemeColor;\r\n  selectedCursus: Set<string>;\r\n  setThemeColor: (c: ThemeColor) => void;\r\n  toggleCursus: (code: string) => void;\r\n}\r\n\r\nconst STORAGE_KEY = 'DemoMaths_Settings_v1';\r\n\r\nexport const useSettings = create<SettingsState>((set, get) => ({\r\n  themeColor: '#007aff',\r\n  selectedCursus: new Set(ALL_CURSUS),\r\n  setThemeColor: c => {\r\n    set({ themeColor: c });\r\n    AsyncStorage.setItem(STORAGE_KEY, JSON.stringify({\r\n      themeColor: c,\r\n      selectedCursus: Array.from(get().selectedCursus)\r\n    }));\r\n  },\r\n  toggleCursus: code => {\r\n    const sel = new Set(get().selectedCursus);\r\n    sel.has(code) ? sel.delete(code) : sel.add(code);\r\n    set({ selectedCursus: sel });\r\n    AsyncStorage.setItem(STORAGE_KEY, JSON.stringify({\r\n      themeColor: get().themeColor,\r\n      selectedCursus: Array.from(sel)\r\n    }));\r\n  }\r\n}));\r\n\r\n// Hydratation au démarrage\r\nAsyncStorage.getItem(STORAGE_KEY).then(str => {\r\n  if (!str) return;\r\n  try {\r\n    const { themeColor, selectedCursus } = JSON.parse(str);\r\n    useSettings.setState({\r\n      themeColor,\r\n      selectedCursus: new Set(selectedCursus)\r\n    });\r\n  } catch {}\r\n});\r\n","// src/screens/HomeScreen.tsx\nimport React, { useEffect, useState } from 'react';\nimport {\n  ScrollView,\n  View,\n  Text,\n  TouchableOpacity,\n  Image,\n  StyleSheet\n} from 'react-native';\nimport { supabase } from '../lib/supabase';\nimport { useSettings } from '../store/useSettings';\n\nexport default function HomeScreen({ navigation }: any) {\n  const [chapters, setChapters] = useState<any[] | null>(null);\n  const selectedCursus = useSettings(s => s.selectedCursus); // Set<string>\n  const themeColor     = useSettings(s => s.themeColor);\n\n  useEffect(() => {\n    supabase\n      .from('chapters')\n      .select('*')\n      .order('sort_index')\n      .then(({ data, error }) => {\n        if (error) {\n          console.error(error);\n          setChapters([]);\n        } else {\n          setChapters(data ?? []);\n        }\n      });\n  }, []);\n\n  // 1) Chargement\n  if (chapters === null) {\n    return (\n      <View style={styles.center}>\n        <Text>Chargement…</Text>\n      </View>\n    );\n  }\n\n  // 2) Aucun chapitre trouvé côté base\n  if (chapters.length === 0) {\n    return (\n      <View style={styles.center}>\n        <Text>Aucun chapitre trouvé</Text>\n      </View>\n    );\n  }\n\n  // 3) Filtrer selon les cursus cochés\n  const filtered = chapters.filter(ch =>\n    selectedCursus.has(ch.cursus_code)\n  );\n\n  // 4) Si aucun chapitre n’est disponible pour ces cursus\n  if (filtered.length === 0) {\n    return (\n      <View style={styles.center}>\n        <Text style={styles.emptyText}>\n          Aucun chapitre disponible pour vos cursus sélectionnés.{'\\n'}\n          Allez dans les Paramètres pour en sélectionner.\n        </Text>\n      </View>\n    );\n  }\n\n  // 5) Regrouper les chapitres filtrés par cursus\n  const groups: Record<string, any[]> = {};\n  filtered.forEach(ch => {\n    if (!groups[ch.cursus_code]) groups[ch.cursus_code] = [];\n    groups[ch.cursus_code].push(ch);\n  });\n\n  return (\n    <ScrollView style={styles.container}>\n      {Object.entries(groups).map(([cursus, items]) => (\n        <View key={cursus} style={styles.section}>\n          <Text style={[styles.cursusHeader, { color: themeColor }]}>\n            Cursus {cursus}\n          </Text>\n\n          {/* → Remplacé ScrollView horizontal par View pour autoriser le wrapping */}\n          <View style={styles.row}>\n            {items.map(item => (\n              <TouchableOpacity\n                key={item.id}\n                style={[styles.card, { borderColor: themeColor }]}\n                onPress={() =>\n                  navigation.navigate('Chapter', { chapter: item })\n                }\n              >\n                {item.cover_url && (\n                  <Image source={{ uri: item.cover_url }} style={styles.img} />\n                )}\n                <Text style={styles.title}>{item.title}</Text>\n              </TouchableOpacity>\n            ))}\n          </View>\n        </View>\n      ))}\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container:     { flex: 1 },\n  center:        { flex: 1, justifyContent: 'center', alignItems: 'center' },\n  emptyText:     { textAlign: 'center', color: '#666', padding: 16 },\n\n  section:       { marginVertical: 12 },\n  cursusHeader:  { fontSize: 18, fontWeight: '700', marginLeft: 16, marginBottom: 8 },\n\n  // on passe de ScrollView horizontal à View flexWrap\n  row: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    paddingLeft: 16,\n  },\n\n  card: {\n    width:         140,\n    marginRight:   12,\n    marginBottom:  12,  // espace vertical entre lignes\n    borderRadius:  16,\n    borderWidth:   2,\n    backgroundColor:'#fff',\n    overflow:      'hidden',\n    alignItems:    'center',\n    justifyContent:'center' // ← centre verticalement le titre dans la carte\n  },\n  img:           { width: '100%', height: 80 },\n\n  title: {\n    padding: 8,\n    textAlign: 'center',\n    width: '100%',\n    flexWrap: 'wrap'\n  }\n});\n","import create from 'zustand';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nexport type Status = 'mastered' | 'in_progress' | 'not_mastered';\n\ninterface ProgressState {\n  mastery: Record<string, Status>;\n  myDemos: Set<string>;\n  setMastery(id: string, s: Status): void;\n  toggleMyDemo(id: string): void;\n}\n\nconst STORAGE_KEY = 'DemoMathsProgress_v2';\n\nexport const useProgress = create<ProgressState>((set) => ({\n  mastery: {},\n  myDemos: new Set(),\n  setMastery: (id, s) => set((st) => {\n    const mastery = { ...st.mastery, [id]: s };\n    AsyncStorage.setItem(STORAGE_KEY, JSON.stringify({ mastery, myDemos: Array.from(st.myDemos) }));\n    return { mastery };\n  }),\n  toggleMyDemo: (id) => set((st) => {\n    const myDemos = new Set(st.myDemos);\n    st.myDemos.has(id) ? myDemos.delete(id) : myDemos.add(id);\n    AsyncStorage.setItem(STORAGE_KEY, JSON.stringify({ mastery: st.mastery, myDemos: Array.from(myDemos) }));\n    return { myDemos };\n  })\n}));\n\nAsyncStorage.getItem(STORAGE_KEY).then((str) => {\n  if (!str) return;\n  try {\n    const { mastery, myDemos } = JSON.parse(str);\n    useProgress.setState({ mastery, myDemos: new Set(myDemos) });\n  } catch {}\n});","// src/screens/ChapterScreen.tsx\nimport React, { useEffect, useState } from 'react';\nimport {\n  ScrollView,\n  View,\n  Text,\n  StyleSheet,\n  TouchableOpacity,\n  ActivityIndicator\n} from 'react-native';\nimport Checkbox from 'expo-checkbox';\nimport { supabase } from '../lib/supabase';\nimport { useProgress } from '../store/useProgress';\nimport { useSettings } from '../store/useSettings';\nimport { useNavigation } from '@react-navigation/native';\n\nexport default function ChapterScreen({ route }: any) {\n  const { chapter } = route.params as { chapter: any };\n  const navigation = useNavigation();\n  const [demos, setDemos] = useState<any[] | null>(null);\n\n  const mastery       = useProgress(s => s.mastery);\n  const myDemos       = useProgress(s => s.myDemos);\n  const toggleMyDemo  = useProgress(s => s.toggleMyDemo);\n  const themeColor    = useSettings(s => s.themeColor);\n\n  useEffect(() => {\n    supabase\n      .from('demos')\n      .select('*')\n      .eq('chapter_id', chapter.id)\n      .order('sort_index')\n      .then(({ data, error }) => {\n        if (error) {\n          console.error(error);\n          setDemos([]);\n        } else {\n          setDemos(data ?? []);\n        }\n      });\n  }, [chapter.id]);\n\n  if (demos === null) {\n    return (\n      <View style={styles.center}>\n        <ActivityIndicator size=\"large\" color={themeColor} />\n      </View>\n    );\n  }\n\n  const total   = demos.length;\n  const countNM = demos.filter(d => mastery[d.id] === 'not_mastered').length;\n  const countIP = demos.filter(d => mastery[d.id] === 'in_progress').length;\n  const countM  = demos.filter(d => mastery[d.id] === 'mastered').length;\n\n  const colorMap: Record<string, string> = {\n    mastered:     '#34c759',\n    in_progress:  '#ff9f0a',\n    not_mastered: '#ff3b30',\n    unrated:      '#888'\n  };\n\n  return (\n    <ScrollView contentContainerStyle={styles.container}>\n      <Text style={styles.h1}>{chapter.title}</Text>\n\n      <View style={styles.pillRow}>\n        <View style={[styles.pill, { backgroundColor: '#ff3b30' }]}>\n          <Text style={styles.pillText}>{countNM}/{total}</Text>\n        </View>\n        <View style={[styles.pill, { backgroundColor: '#ff9f0a' }]}>\n          <Text style={styles.pillText}>{countIP}/{total}</Text>\n        </View>\n        <View style={[styles.pill, { backgroundColor: '#34c759' }]}>\n          <Text style={styles.pillText}>{countM}/{total}</Text>\n        </View>\n      </View>\n\n      <TouchableOpacity\n        style={[styles.launchButton, { backgroundColor: themeColor }]}\n        onPress={() => navigation.navigate('Learning', { demos })}\n      >\n        <Text style={styles.launchText}>LANCER L’APPRENTISSAGE</Text>\n      </TouchableOpacity>\n\n      {demos.map(d => {\n        const selected = myDemos.has(d.id);\n        const status   = mastery[d.id] ?? 'unrated';\n        return (\n          <View key={d.id} style={styles.demoRow}>\n            <Checkbox\n              value={selected}\n              onValueChange={() => toggleMyDemo(d.id)}\n              color={themeColor}\n            />\n\n            <Text style={styles.demoTitle}>{d.title}</Text>\n\n            <View style={[styles.pillSmall, { backgroundColor: colorMap[status] }]}>\n              <Text style={styles.pillTextSmall}>{status.replace('_', ' ')}</Text>\n            </View>\n\n            <TouchableOpacity\n              style={[styles.button, { backgroundColor: themeColor }]}\n              onPress={() => navigation.navigate('Learning', { demos: [d] })}\n            >\n              <Text style={styles.buttonText}>Voir</Text>\n            </TouchableOpacity>\n          </View>\n        );\n      })}\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container:    { padding: 20 },\n  center:       { flex: 1, justifyContent: 'center', alignItems: 'center' },\n  h1:           { fontSize: 22, fontWeight: '700', marginBottom: 12 },\n  pillRow:      { flexDirection: 'row', marginBottom: 12 },\n  pill:         { paddingHorizontal: 10, paddingVertical: 4, borderRadius: 6, marginRight: 8 },\n  pillText:     { color: 'white', fontWeight: '600' },\n  launchButton: { borderRadius: 16, paddingVertical: 10, alignItems: 'center', marginBottom: 20 },\n  launchText:   { color: 'white', fontWeight: '700' },\n  demoRow:      { flexDirection: 'row', alignItems: 'center', marginBottom: 12 },\n  demoTitle:    { flex: 1, marginHorizontal: 8, fontSize: 16 },\n  pillSmall:    { paddingHorizontal: 6, paddingVertical: 2, borderRadius: 4, marginRight: 8 },\n  pillTextSmall:{ color: 'white', fontSize: 12 },\n  button:       { paddingHorizontal: 12, paddingVertical: 6, borderRadius: 16 },\n  buttonText:   { color: 'white', fontWeight: '600' }\n});\n","// src/components/MathJaxView.tsx\r\nimport React from 'react';\r\nimport { View, Text, Platform, StyleSheet, Dimensions } from 'react-native';\r\nimport { WebView } from 'react-native-webview';\r\nimport { renderToString } from 'katex';\r\nimport { InlineMath, BlockMath } from 'react-katex';\r\nimport 'katex/dist/katex.min.css';\r\n\r\ntype Props = {\r\n  tex: string;\r\n};\r\n\r\nconst htmlTemplate = (math: string, display: boolean) => `\r\n<!DOCTYPE html>\r\n<html><head>\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n  <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css\">\r\n  <style>\r\n    body { margin:0; padding:0; }\r\n    #math {\r\n      display: ${display ? 'block' : 'inline-block'};\r\n      white-space: normal !important;\r\n      overflow-wrap: break-word;\r\n      word-break: normal;\r\n      max-width: 100%;\r\n      font-size: 1.2em;\r\n      margin: ${display ? '0.5em 0' : '0 0.2em'};\r\n    }\r\n  </style>\r\n</head><body>\r\n  <div id=\"math\"></div>\r\n  <script src=\"https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js\"></script>\r\n  <script>\r\n    katex.render(\r\n      String.raw\\`${math}\\`,\r\n      document.getElementById('math'),\r\n      { throwOnError: false, displayMode: ${display} }\r\n    );\r\n  </script>\r\n</body></html>\r\n`;\r\n\r\nexport default function MathJaxView({ tex }: Props) {\r\n  const paragraphs = tex.split(/\\r?\\n/).filter(p => p.length > 0);\r\n  const { width } = Dimensions.get('window');\r\n\r\n  // Web : use <InlineMath> / <BlockMath> + <span>\r\n  if (Platform.OS === 'web') {\r\n    return (\r\n      <View style={styles.container}>\r\n        {paragraphs.map((para, pIdx) => {\r\n          const parts = para.split(/(\\$\\$[\\s\\S]+?\\$\\$|\\$[^$]+\\$)/g).filter(Boolean);\r\n          return (\r\n            <div key={pIdx} style={styles.webParagraph}>\r\n              {parts.map((part, i) => {\r\n                const block = part.match(/^\\$\\$([\\s\\S]+)\\$\\$$/);\r\n                if (block) {\r\n                  return <BlockMath key={i} math={block[1]} />;\r\n                }\r\n                const inline = part.match(/^\\$([^$]+)\\$$/);\r\n                if (inline) {\r\n                  return <InlineMath key={i} math={inline[1]} />;\r\n                }\r\n                return (\r\n                  <span key={i} style={styles.plainWeb}>\r\n                    {part}\r\n                  </span>\r\n                );\r\n              })}\r\n            </div>\r\n          );\r\n        })}\r\n      </View>\r\n    );\r\n  }\r\n\r\n  // Mobile / iOS / Android : same as before\r\n  return (\r\n    <View style={styles.container}>\r\n      {paragraphs.map((para, pIdx) => {\r\n        const parts = para.split(/(\\$\\$[\\s\\S]+?\\$\\$|\\$[^$]+\\$)/g).filter(Boolean);\r\n        return (\r\n          <View key={pIdx} style={styles.wrapper}>\r\n            {parts.map((part, i) => {\r\n              const block = part.match(/^\\$\\$([\\s\\S]+)\\$\\$$/);\r\n              if (block) {\r\n                return (\r\n                  <WebView\r\n                    key={i}\r\n                    originWhitelist={['*']}\r\n                    source={{ html: htmlTemplate(block[1], true) }}\r\n                    style={[styles.blockMobile, { width }]}\r\n                    scrollEnabled={false}\r\n                  />\r\n                );\r\n              }\r\n              const inline = part.match(/^\\$([^$]+)\\$$/);\r\n              if (inline) {\r\n                return (\r\n                  <WebView\r\n                    key={i}\r\n                    originWhitelist={['*']}\r\n                    source={{ html: htmlTemplate(inline[1], false) }}\r\n                    style={styles.inlineMobile}\r\n                    scrollEnabled={false}\r\n                  />\r\n                );\r\n              }\r\n              return (\r\n                <Text key={i} style={styles.plainText}>\r\n                  {part}\r\n                </Text>\r\n              );\r\n            })}\r\n          </View>\r\n        );\r\n      })}\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flexGrow: 0,\r\n  },\r\n  wrapper: {\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'baseline',  // align on text baseline\r\n    marginVertical: 4,\r\n  },\r\n  // Mobile plain text\r\n  plainText: {\r\n    fontSize: 16,\r\n    lineHeight: 24,\r\n    marginRight: 2,\r\n    flexShrink: 1,\r\n    minWidth: 0,\r\n    whiteSpace: 'normal',\r\n    overflowWrap: 'break-word',  // wrap at spaces\r\n    wordBreak: 'normal',         // no mid-word breaks\r\n  },\r\n  // Web plain text\r\n  plainWeb: {\r\n    whiteSpace: 'normal',\r\n    overflowWrap: 'break-word',\r\n    wordBreak: 'normal',\r\n  },\r\n  // Web paragraph container\r\n  webParagraph: {\r\n    width: '100%',\r\n    margin: '0.5em 0',\r\n    whiteSpace: 'normal',\r\n    overflowWrap: 'break-word',\r\n    wordBreak: 'normal',\r\n  },\r\n  // Mobile inline math\r\n  inlineMobile: {\r\n    height: 40,\r\n    backgroundColor: 'transparent',\r\n    marginHorizontal: 2,\r\n    flexShrink: 1,\r\n    minWidth: 0,\r\n    alignSelf: 'baseline',\r\n  },\r\n  // Mobile block math\r\n  blockMobile: {\r\n    height: 150,\r\n    backgroundColor: 'transparent',\r\n    marginVertical: 8,\r\n    flexShrink: 0,\r\n  },\r\n});\r\n","import React, { useState } from 'react';\nimport {\n  View,\n  Text,\n  ScrollView,\n  Button,\n  StyleSheet\n} from 'react-native';\nimport { useProgress } from '../store/useProgress';\nimport { useSettings } from '../store/useSettings';\nimport MathJaxView from '../components/MathJaxView';\n\nexport default function LearningScreen({ route, navigation }: any) {\n  const { demos } = route.params as { demos: any[] };\n  const [idx, setIdx] = useState(0);\n  const [showProof, setShowProof] = useState(false);\n  const { setMastery } = useProgress();\n  const themeColor = useSettings(s => s.themeColor);\n\n  const demo = demos[idx];\n  if (!demo) return null;\n\n  const next = () => {\n    setShowProof(false);\n    if (idx + 1 < demos.length) {\n      setIdx(idx + 1);\n    } else {\n      navigation.goBack();\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <ScrollView style={{ flex: 1 }}>\n        {/* Titre de la démo */}\n        <Text style={styles.title}>{demo.title}</Text>\n\n        {/* Énoncé LaTeX, s'auto-wrap à la largeur dispo */}\n        <MathJaxView tex={demo.statement} />\n        <Text>{'\\n'}</Text>\n    \n        {/* Titre de la démo */}\n        {showProof && <Text style={styles.title}>{\"Démonstration :\"}</Text>}\n\n        {/* Preuve LaTeX (après clic), même wrapping */}\n        {showProof && <MathJaxView tex={demo.proof} />}\n      </ScrollView>\n\n      {/* Bouton afficher la démo */}\n      {!showProof ? (\n        <Button title=\"Afficher la démo\" color={themeColor} onPress={() => setShowProof(true)} />\n      ) : (\n        <View style={styles.btnRow}>\n          <Button\n            title=\"Non maîtrisée\"\n            color=\"#ff3b30\"\n            onPress={() => {\n              setMastery(demo.id, 'not_mastered');\n              next();\n            }}\n          />\n          <Button\n            title=\"À approfondir\"\n            color=\"#ff9f0a\"\n            onPress={() => {\n              setMastery(demo.id, 'in_progress');\n              next();\n            }}\n          />\n          <Button\n            title=\"Maîtrisée\"\n            color=\"#34c759\"\n            onPress={() => {\n              setMastery(demo.id, 'mastered');\n              next();\n            }}\n          />\n        </View>\n      )}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: { flex: 1, padding: 20 },\n  title: { fontSize: 18, fontWeight: '600', marginBottom: 12 },\n  btnRow: { flexDirection: 'row', justifyContent: 'space-between', marginTop: 12 }\n});\n","import React, { useEffect, useState } from 'react';\nimport {\n  ScrollView,\n  View,\n  Text,\n  StyleSheet,\n  TouchableOpacity,\n  ActivityIndicator\n} from 'react-native';\nimport Checkbox from 'expo-checkbox';\nimport Collapsible from 'react-native-collapsible';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { useNavigation } from '@react-navigation/native';\n\nimport { supabase } from '../lib/supabase';\nimport { useProgress } from '../store/useProgress';\nimport { useSettings } from '../store/useSettings';\n\nexport default function MyDemosScreen() {\n  const navigation   = useNavigation();\n  const { myDemos, toggleMyDemo } = useProgress();\n  const mastery      = useProgress(s => s.mastery);\n  const themeColor   = useSettings(s => s.themeColor);\n\n  const [chapters, setChapters] = useState<any[]|null>(null);\n  const [open, setOpen]         = useState<Record<string,boolean>>({});\n\n  // 1) Charge chapitres + démos\n  useEffect(() => {\n    (async () => {\n      const { data: ch, error: errCh } = await supabase\n        .from('chapters').select('*').order('sort_index');\n      if (errCh) { console.error(errCh); setChapters([]); return; }\n\n      const { data: de, error: errDe } = await supabase\n        .from('demos').select('*').order('sort_index');\n      if (errDe) { console.error(errDe); setChapters([]); return; }\n\n      setChapters(\n        ch.map(c => ({\n          ...c,\n          demos: de.filter(d => d.chapter_id === c.id)\n        }))\n      );\n    })();\n  }, []);\n\n  if (chapters === null) {\n    return (\n      <View style={styles.center}>\n        <ActivityIndicator size=\"large\" color={themeColor}/>\n        <Text>Chargement…</Text>\n      </View>\n    );\n  }\n\n  // 2) Ne garder que les démos sélectionnées\n  const visibleChapters = chapters\n    .map(c => ({ ...c, demos: c.demos.filter((d:any) => myDemos.has(d.id)) }))\n    .filter(c => c.demos.length > 0);\n\n  const allSelected = visibleChapters.flatMap(c => c.demos);\n\n  // 3) Handler apprentissage\n  const handleLearn = () => {\n    navigation.navigate('Cours' as never, {\n      screen: 'Learning',\n      params: { demos: allSelected }\n    } as never);\n  };\n\n  // couleur par statut\n  const colorMap: Record<string,string> = {\n    mastered:     '#34c759',\n    in_progress:  '#ff9f0a',\n    not_mastered: '#ff3b30',\n    unrated:      '#888'\n  };\n\n  return (\n    <ScrollView contentContainerStyle={styles.container}>\n      {visibleChapters.length === 0 && (\n        <View style={styles.center}>\n          <Text>Aucune démo sélectionnée.</Text>\n        </View>\n      )}\n\n      {visibleChapters.map(ch => {\n        const isOpen = !!open[ch.id];\n        return (\n          <View key={ch.id}>\n            <TouchableOpacity\n              style={styles.header}\n              onPress={() => setOpen(o => ({ ...o, [ch.id]: !isOpen }))}\n            >\n              <Text style={styles.h2}>{ch.title}</Text>\n              <MaterialCommunityIcons\n                name={isOpen ? 'chevron-up' : 'chevron-down'}\n                size={22}\n                color=\"#333\"\n              />\n            </TouchableOpacity>\n\n            <Collapsible collapsed={!isOpen}>\n              {ch.demos.map((demo:any) => {\n                const status = mastery[demo.id] ?? 'unrated';\n                return (\n                  <View key={demo.id} style={styles.demoRow}>\n                    <Checkbox\n                      value={myDemos.has(demo.id)}\n                      onValueChange={() => toggleMyDemo(demo.id)}\n                      color={themeColor}\n                    />\n                    <Text style={styles.demoTitle}>{demo.title}</Text>\n                    <View style={[styles.pillSmall,{backgroundColor: colorMap[status]}]}>\n                      <Text style={styles.pillTextSmall}>\n                        {status.replace('_',' ')}\n                      </Text>\n                    </View>\n                  </View>\n                );\n              })}\n            </Collapsible>\n          </View>\n        );\n      })}\n\n      <TouchableOpacity\n        style={[\n          styles.learnButton,\n          { backgroundColor: themeColor },\n          allSelected.length===0 && styles.disabled\n        ]}\n        onPress={handleLearn}\n        disabled={allSelected.length===0}\n      >\n        <Text style={styles.learnText}>Apprendre ma sélection</Text>\n      </TouchableOpacity>\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container:     { padding:16, paddingBottom:32 },\n  center:        { flex:1, justifyContent:'center', alignItems:'center', marginTop:40 },\n\n  header:        {\n    flexDirection:'row',\n    justifyContent:'space-between',\n    padding:12,\n    backgroundColor:'#f2f2f7',\n    marginBottom:2\n  },\n  h2:            { fontWeight:'700', fontSize:16 },\n\n  demoRow:       {\n    flexDirection:'row',\n    alignItems:'center',\n    paddingVertical:10,\n    paddingHorizontal:4,\n    borderBottomWidth:StyleSheet.hairlineWidth,\n    borderColor:'#ccc'\n  },\n  demoTitle:     { flex:1, marginLeft:8 },\n\n  pillSmall:    { paddingHorizontal:6,paddingVertical:2,borderRadius:4,marginLeft:8 },\n  pillTextSmall:{ color:'white', fontSize:12 },\n\n  learnButton:   {\n    marginTop:24,\n    paddingVertical:12,\n    borderRadius:16,\n    alignItems:'center'\n  },\n  learnText:     { color:'white', fontSize:16, fontWeight:'700' },\n  disabled:      { opacity:0.5 },\n});\n","// src/screens/StatsScreen.tsx\nimport React, { useEffect, useState } from 'react';\nimport {\n  ScrollView,\n  View,\n  Text,\n  StyleSheet,\n  ActivityIndicator\n} from 'react-native';\nimport { supabase } from '../lib/supabase';\nimport { useProgress } from '../store/useProgress';\nimport { useSettings } from '../store/useSettings';\n\nexport default function StatsScreen() {\n  const [chapters, setChapters] = useState<any[] | null>(null);\n  const [demos, setDemos]       = useState<any[] | null>(null);\n\n  const mastery        = useProgress(s => s.mastery);\n  const myDemos        = useProgress(s => s.myDemos);\n  const themeColor     = useSettings(s => s.themeColor);\n  const selectedCursus = useSettings(s => s.selectedCursus); // Set<string>\n\n  // Chargement des données\n  useEffect(() => {\n    supabase.from('chapters').select('*').order('sort_index')\n      .then(({ data }) => setChapters(data ?? []));\n    supabase.from('demos').select('*')\n      .then(({ data }) => setDemos(data ?? []));\n  }, []);\n\n  // Loader\n  if (chapters === null || demos === null) {\n    return (\n      <View style={styles.center}>\n        <ActivityIndicator size=\"large\" color={themeColor} />\n      </View>\n    );\n  }\n\n  // Aucun cursus sélectionné\n  if (selectedCursus.size === 0) {\n    return (\n      <View style={styles.center}>\n        <Text style={styles.emptyText}>\n          Aucun cursus sélectionné.{'\\n'}\n          Allez dans Paramètres pour en choisir.\n        </Text>\n      </View>\n    );\n  }\n\n  // Stats globales de la sélection\n  const selectedDemos = demos.filter(d => myDemos.has(d.id));\n  const totalSel      = selectedDemos.length;\n  const selNM         = selectedDemos.filter(d => mastery[d.id] === 'not_mastered').length;\n  const selIP         = selectedDemos.filter(d => mastery[d.id] === 'in_progress').length;\n  const selM          = selectedDemos.filter(d => mastery[d.id] === 'mastered').length;\n\n  // Grouper chapitres par cursus\n  const byCursus: Record<string, any[]> = {};\n  chapters.forEach(ch => {\n    if (!selectedCursus.has(ch.cursus_code)) return;\n    if (!byCursus[ch.cursus_code]) byCursus[ch.cursus_code] = [];\n    byCursus[ch.cursus_code].push(ch);\n  });\n\n  // Couleurs selon statut\n  const colorMap: Record<string, string> = {\n    mastered:     '#34c759',\n    in_progress:  '#ff9f0a',\n    not_mastered: '#ff3b30',\n    unrated:      '#888'\n  };\n\n  return (\n    <ScrollView contentContainerStyle={styles.container}>\n      {/* Sélection globale */}\n      <View style={styles.row}>\n        <Text style={[styles.header, { color: themeColor }]}>Sélection</Text>\n        <View style={styles.pills}>\n          <View style={[styles.pill, { backgroundColor: colorMap.not_mastered }]}>\n            <Text style={styles.pillText}>{`${selNM}/${totalSel}`}</Text>\n          </View>\n          <View style={[styles.pill, { backgroundColor: colorMap.in_progress }]}>\n            <Text style={styles.pillText}>{`${selIP}/${totalSel}`}</Text>\n          </View>\n          <View style={[styles.pill, { backgroundColor: colorMap.mastered }]}>\n            <Text style={styles.pillText}>{`${selM}/${totalSel}`}</Text>\n          </View>\n        </View>\n      </View>\n\n      {/* Stats par chapitre */}\n      {Object.entries(byCursus).map(([cursus, chs]) => (\n        <View key={cursus} style={styles.section}>\n          <Text style={[styles.cursusHeader, { color: themeColor }]}>\n            {cursus}\n          </Text>\n          {chs.map(ch => {\n            const chDemos = demos.filter(d => d.chapter_id === ch.id);\n            const total   = chDemos.length;\n            const nm      = chDemos.filter(d => mastery[d.id] === 'not_mastered').length;\n            const ip      = chDemos.filter(d => mastery[d.id] === 'in_progress').length;\n            const m       = chDemos.filter(d => mastery[d.id] === 'mastered').length;\n            return (\n              <View key={ch.id} style={styles.row}>\n                <Text style={styles.chapterTitle}>{ch.title}</Text>\n                <View style={styles.pills}>\n                  <View style={[styles.pill, { backgroundColor: colorMap.not_mastered }]}>\n                    <Text style={styles.pillText}>{`${nm}/${total}`}</Text>\n                  </View>\n                  <View style={[styles.pill, { backgroundColor: colorMap.in_progress }]}>\n                    <Text style={styles.pillText}>{`${ip}/${total}`}</Text>\n                  </View>\n                  <View style={[styles.pill, { backgroundColor: colorMap.mastered }]}>\n                    <Text style={styles.pillText}>{`${m}/${total}`}</Text>\n                  </View>\n                </View>\n              </View>\n            );\n          })}\n        </View>\n      ))}\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container:     { padding: 16, paddingBottom: 32 },\n  center:        { flex: 1, justifyContent: 'center', alignItems: 'center' },\n  emptyText:     { textAlign: 'center', color: '#666', padding: 16 },\n\n  row: {\n    flexDirection:  'row',\n    alignItems:     'center',\n    justifyContent: 'space-between',\n    marginBottom:   12\n  },\n  header:        { fontSize: 20, fontWeight: '700' },\n  pills:         { flexDirection: 'row' },\n  pill: {\n    paddingHorizontal: 10,\n    paddingVertical:   4,\n    borderRadius:      8,\n    marginLeft:        6,\n    minWidth:          50,       // ← largeur minimale uniforme\n    alignItems:        'center', // ← centre le texte horizontalement\n    justifyContent:    'center'  // ← centre le texte verticalement\n  },\n  pillText:      { color: 'white', fontWeight: '600' },\n\n  section:       { marginTop: 24 },\n  cursusHeader:  { fontSize: 18, fontWeight: '700', marginBottom: 8 },\n  chapterTitle:  { fontSize: 16, flex: 1 }\n});\n","import React, { useLayoutEffect } from 'react';\r\nimport {\r\n  ScrollView,\r\n  View,\r\n  Text,\r\n  StyleSheet,\r\n  TouchableOpacity\r\n} from 'react-native';\r\nimport Checkbox from 'expo-checkbox';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport {\r\n  useSettings,\r\n  ALL_CURSUS,\r\n  ThemeColor\r\n} from '../store/useSettings';\r\n\r\nconst COLOR_OPTIONS: Record<ThemeColor, string> = {\r\n  '#808080': 'Gris',\r\n  '#8e44ad': 'Violet',\r\n  '#34c759': 'Vert',\r\n  '#ff3b30': 'Rouge',\r\n  '#0a84ff': 'Bleu'\r\n};\r\n\r\nexport default function SettingsScreen() {\r\n  const navigation   = useNavigation();\r\n  const theme        = useSettings(s => s.themeColor);\r\n  const setTheme     = useSettings(s => s.setThemeColor);\r\n  const selected     = useSettings(s => s.selectedCursus);\r\n  const toggleCursus = useSettings(s => s.toggleCursus);\r\n\r\n  return (\r\n    <ScrollView contentContainerStyle={styles.container}>\r\n      {/* Thème */}\r\n      <Text style={styles.h1}>Thème</Text>\r\n      {(Object.keys(COLOR_OPTIONS) as ThemeColor[]).map(col => {\r\n        const label = COLOR_OPTIONS[col];\r\n        const isSel = theme === col;\r\n        return (\r\n          <TouchableOpacity\r\n            key={col}\r\n            style={[\r\n              styles.colorButton,\r\n              {\r\n                backgroundColor: isSel ? col : '#ffffff',\r\n                borderColor: col\r\n              }\r\n            ]}\r\n            onPress={() => setTheme(col)}\r\n          >\r\n            <Text\r\n              style={[\r\n                styles.colorLabel,\r\n                { color: isSel ? '#ffffff' : '#000000' }\r\n              ]}\r\n            >\r\n              {label}\r\n            </Text>\r\n          </TouchableOpacity>\r\n        );\r\n      })}\r\n\r\n      {/* Cursus */}\r\n      <Text style={[styles.h1, { marginTop: 24 }]}>Cursus affichés</Text>\r\n      {ALL_CURSUS.map(code => {\r\n        const isSel = selected.has(code);\r\n        return (\r\n          <View key={code} style={styles.row}>\r\n            <Checkbox\r\n              value={isSel}\r\n              onValueChange={() => toggleCursus(code)}\r\n              color={theme}\r\n            />\r\n            <Text style={styles.cursusLabel}>{code}</Text>\r\n          </View>\r\n        );\r\n      })}\r\n    </ScrollView>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container:     { flex: 1, padding: 20, paddingBottom: 40 },\r\n  h1:            { fontSize: 20, fontWeight: '700', marginBottom: 12 },\r\n\r\n  colorButton:   {\r\n    paddingVertical:   12,\r\n    paddingHorizontal: 16,\r\n    borderRadius:      16,\r\n    borderWidth:       2,\r\n    marginBottom:      12,\r\n    alignItems:        'center'\r\n  },\r\n  colorLabel:    { fontSize: 16, fontWeight: '600' },\r\n\r\n  row:           {\r\n    flexDirection: 'row',\r\n    alignItems:    'center',\r\n    marginBottom:  12\r\n  },\r\n  cursusLabel:   { marginLeft: 8, fontSize: 16 }\r\n});\r\n","// App.tsx\nimport 'react-native-gesture-handler';\nimport React from 'react';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport 'katex/dist/katex.min.css';\n\nimport HomeScreen     from './src/screens/HomeScreen';\nimport ChapterScreen  from './src/screens/ChapterScreen';\nimport LearningScreen from './src/screens/LearningScreen';\nimport MyDemosScreen  from './src/screens/MyDemosScreen';\nimport StatsScreen    from './src/screens/StatsScreen';\nimport SettingsScreen from './src/screens/SettingsScreen';\n\nimport { useSettings } from './src/store/useSettings';\n\nconst Stack = createNativeStackNavigator();\nfunction CoursStack() {\n  const theme = useSettings(s => s.themeColor);\n  return (\n    <Stack.Navigator\n      initialRouteName=\"Home\"\n      screenOptions={{\n        headerTintColor: theme,\n        headerBackTitleVisible: false\n      }}\n    >\n      <Stack.Screen name=\"Home\"     component={HomeScreen}    options={{ title: 'Cours' }} />\n      <Stack.Screen name=\"Settings\"     component={SettingsScreen}    options={{ title: 'Paramètres' }} />\n      <Stack.Screen name=\"Stats\"     component={StatsScreen}    options={{ title: 'Statistiques' }} />\n      <Stack.Screen name=\"Chapter\"  component={ChapterScreen} options={({ route }) => ({\n        title: (route.params as any).chapter.title\n      })} />\n      <Stack.Screen name=\"Learning\" component={LearningScreen} options={{ title: 'Apprentissage' }} />\n    </Stack.Navigator>\n  );\n}\n\nconst Tab = createBottomTabNavigator();\nexport default function App() {\n  const theme = useSettings(s => s.themeColor);\n  return (\n    <NavigationContainer>\n      <Tab.Navigator\n        initialRouteName=\"Cours\"\n        screenOptions={({ route }) => ({\n          headerShown: false,\n          tabBarActiveTintColor: theme,\n          tabBarIcon: ({ color, size }) => {\n            switch (route.name) {\n              case 'Cours':      return <MaterialCommunityIcons name=\"book-open-page-variant\" size={size} color={color} />;\n              case 'Mes démos':  return <MaterialCommunityIcons name=\"book\" size={size} color={color} />;\n              case 'Stats':      return <MaterialCommunityIcons name=\"chart-bar\" size={size} color={color} />;\n              case 'Paramètres': return <MaterialCommunityIcons name=\"cog\" size={size} color={color} />;\n              default: return null;\n            }\n          }\n        })}\n      >\n        <Tab.Screen name=\"Cours\"      component={CoursStack}   />\n        <Tab.Screen name=\"Mes démos\"  component={MyDemosScreen}/>\n        <Tab.Screen name=\"Stats\"      component={StatsScreen}   />\n        <Tab.Screen name=\"Paramètres\" component={SettingsScreen}/>\n      </Tab.Navigator>\n    </NavigationContainer>\n  );\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; (typeof current == 'object' || typeof current == 'function') && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + chunkId + \".\" + \"783bc47a\" + \".chunk.js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"web:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/DemoMaths/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkweb\"] = self[\"webpackChunkweb\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [475], () => (__webpack_require__(5036)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["SUPABASE_URL","console","log","supabase","createClient","ALL_CURSUS","STORAGE_KEY","useSettings","create","set","get","themeColor","selectedCursus","Set","setThemeColor","c","AsyncStorage","setItem","JSON","stringify","Array","from","toggleCursus","code","sel","has","delete","add","getItem","then","str","_JSON$parse","parse","setState","_unused","HomeScreen","_ref","navigation","_useState","useState","_useState2","_slicedToArray","chapters","setChapters","s","useEffect","select","order","_ref2","data","error","_jsx","View","style","styles","center","children","Text","length","filtered","filter","ch","cursus_code","_jsxs","emptyText","groups","forEach","push","ScrollView","container","Object","entries","map","_ref3","_ref4","cursus","items","section","cursusHeader","color","row","item","TouchableOpacity","card","borderColor","onPress","navigate","chapter","cover_url","Image","source","uri","img","title","id","StyleSheet","flex","justifyContent","alignItems","textAlign","padding","marginVertical","fontSize","fontWeight","marginLeft","marginBottom","flexDirection","flexWrap","paddingLeft","width","marginRight","borderRadius","borderWidth","backgroundColor","overflow","height","useProgress","mastery","myDemos","setMastery","st","_objectSpread","_defineProperty","toggleMyDemo","ChapterScreen","route","params","useNavigation","demos","setDemos","eq","ActivityIndicator","size","total","countNM","d","countIP","countM","colorMap","mastered","in_progress","not_mastered","unrated","contentContainerStyle","h1","pillRow","pill","pillText","launchButton","launchText","_mastery$d$id","selected","status","demoRow","Checkbox","value","onValueChange","demoTitle","pillSmall","pillTextSmall","replace","button","buttonText","paddingHorizontal","paddingVertical","marginHorizontal","MathJaxView","paragraphs","tex","split","p","Dimensions","para","pIdx","parts","Boolean","webParagraph","part","i","block","match","BlockMath","math","inline","InlineMath","plainWeb","flexGrow","wrapper","plainText","lineHeight","flexShrink","minWidth","whiteSpace","overflowWrap","wordBreak","margin","inlineMobile","alignSelf","blockMobile","LearningScreen","idx","setIdx","_useState3","_useState4","showProof","setShowProof","demo","next","goBack","statement","proof","btnRow","Button","marginTop","MyDemosScreen","_useProgress","open","setOpen","_asyncToGenerator","_yield$supabase$from$","errCh","_yield$supabase$from$2","de","errDe","chapter_id","visibleChapters","allSelected","flatMap","isOpen","header","o","h2","MaterialCommunityIcons","name","Collapsible","collapsed","_mastery$demo$id","learnButton","disabled","screen","learnText","paddingBottom","borderBottomWidth","hairlineWidth","opacity","StatsScreen","selectedDemos","totalSel","selNM","selIP","selM","byCursus","pills","chs","chDemos","nm","ip","m","chapterTitle","COLOR_OPTIONS","SettingsScreen","theme","setTheme","keys","col","label","isSel","colorButton","colorLabel","cursusLabel","Stack","createNativeStackNavigator","CoursStack","Navigator","initialRouteName","screenOptions","headerTintColor","headerBackTitleVisible","Screen","component","options","Tab","createBottomTabNavigator","App","NavigationContainer","headerShown","tabBarActiveTintColor","tabBarIcon","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","loaded","__webpack_modules__","call","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","key","splice","r","n","getter","__esModule","a","leafPrototypes","getProto","getPrototypeOf","obj","t","mode","this","ns","def","current","indexOf","getOwnPropertyNames","definition","defineProperty","enumerable","f","e","chunkId","Promise","all","reduce","promises","u","miniCssF","g","globalThis","Function","window","prop","prototype","hasOwnProperty","inProgress","dataWebpackPrefix","l","url","done","script","needAttach","scripts","document","getElementsByTagName","getAttribute","createElement","charset","timeout","nc","setAttribute","src","onScriptComplete","prev","event","onerror","onload","clearTimeout","doneFns","parentNode","removeChild","setTimeout","bind","type","target","head","appendChild","Symbol","toStringTag","nmd","paths","installedChunks","installedChunkData","promise","resolve","reject","Error","errorType","realSrc","message","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}